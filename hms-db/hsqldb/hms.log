/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
ALTER TABLE DOOR DROP CONSTRAINT FK_DOOR_FLOOR_id
ALTER TABLE ROOM DROP CONSTRAINT FK_ROOM_ROOM_id
ALTER TABLE ACCOMMODATION DROP CONSTRAINT FK_ACCOMMODATION_ROOM_id
ALTER TABLE ACCOMMODATION DROP CONSTRAINT FK_ACCOMMODATION_PERSON_id
ALTER TABLE SHIFT DROP CONSTRAINT FK_SHIFT_FLOOR_id
ALTER TABLE SHIFT DROP CONSTRAINT FK_SHIFT_PERSON_id
DROP TABLE FLOOR
DROP TABLE DOOR
DROP TABLE ROOM
DROP TABLE ACCOMMODATION
DROP TABLE PERSON
DROP TABLE SHIFT
CREATE TABLE FLOOR (id BIGINT NOT NULL, DESCRIPTION VARCHAR(255), FLOORNUMBER VARCHAR(255), version INTEGER, PRIMARY KEY (id))
CREATE TABLE DOOR (id BIGINT NOT NULL, DESCRIPTION VARCHAR(255), ROONUMBER VARCHAR(255), version INTEGER, FLOOR_id BIGINT, PRIMARY KEY (id))
CREATE TABLE ROOM (id BIGINT NOT NULL, DESCRIPTION VARCHAR(255), ROOMNUMBER VARCHAR(255), version INTEGER, ROOM_id BIGINT, PRIMARY KEY (id))
CREATE TABLE ACCOMMODATION (id BIGINT NOT NULL, ENDDATE TIMESTAMP, ENDTIME TIME, STARTDATE TIMESTAMP, STARTTIME TIME, version INTEGER, PERSON_id BIGINT, ROOM_id BIGINT, PRIMARY KEY (id))
CREATE TABLE PERSON (id BIGINT NOT NULL, BIRTHDATE TIMESTAMP, FIRSTNAME VARCHAR(255), GENDER INTEGER, LASTNAME VARCHAR(255), MIDDLENAME VARCHAR(255), PALMUSID VARCHAR(255), PERSONTYPE INTEGER, version INTEGER, PRIMARY KEY (id))
CREATE TABLE SHIFT (id BIGINT NOT NULL, SHIFTDATE TIMESTAMP, version INTEGER, FLOOR_id BIGINT, PERSON_id BIGINT, PRIMARY KEY (id))
ALTER TABLE DOOR ADD CONSTRAINT FK_DOOR_FLOOR_id FOREIGN KEY (FLOOR_id) REFERENCES FLOOR (id)
ALTER TABLE ROOM ADD CONSTRAINT FK_ROOM_ROOM_id FOREIGN KEY (ROOM_id) REFERENCES ROOM (id)
ALTER TABLE ACCOMMODATION ADD CONSTRAINT FK_ACCOMMODATION_ROOM_id FOREIGN KEY (ROOM_id) REFERENCES ROOM (id)
ALTER TABLE ACCOMMODATION ADD CONSTRAINT FK_ACCOMMODATION_PERSON_id FOREIGN KEY (PERSON_id) REFERENCES PERSON (id)
ALTER TABLE SHIFT ADD CONSTRAINT FK_SHIFT_FLOOR_id FOREIGN KEY (FLOOR_id) REFERENCES FLOOR (id)
ALTER TABLE SHIFT ADD CONSTRAINT FK_SHIFT_PERSON_id FOREIGN KEY (PERSON_id) REFERENCES PERSON (id)
DELETE FROM SEQUENCE WHERE SEQ_NAME='SEQ_GEN'
COMMIT
INSERT INTO SEQUENCE VALUES('SEQ_GEN',0)
COMMIT
