/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
CREATE TABLE FLOOR (id BIGINT NOT NULL, DESCRIPTION VARCHAR(255), FLOORNUMBER VARCHAR(255), version INTEGER, PRIMARY KEY (id))
CREATE TABLE DOOR (id BIGINT NOT NULL, DESCRIPTION VARCHAR(255), DOORNUMBER VARCHAR(255), version INTEGER, ROOM_id BIGINT, PRIMARY KEY (id))
CREATE TABLE ROOM (id BIGINT NOT NULL, DESCRIPTION VARCHAR(255), ROOMNUMBER VARCHAR(255), version INTEGER, FLOOR_id BIGINT, PRIMARY KEY (id))
CREATE TABLE ACCOMMODATION (id BIGINT NOT NULL, version INTEGER, PERSON_id BIGINT, ROOM_id BIGINT, PRIMARY KEY (id))
CREATE TABLE PERSON (id BIGINT NOT NULL, BIRTHDATE TIMESTAMP, FIRSTNAME VARCHAR(255), GENDER INTEGER, LASTNAME VARCHAR(255), MIDDLENAME VARCHAR(255), PALMUSID VARCHAR(255), PERSONTYPE INTEGER, PVID VARCHAR(255), version INTEGER, PRIMARY KEY (id))
CREATE TABLE SHIFT (id BIGINT NOT NULL, version INTEGER, FLOOR_id BIGINT, PERSON_id BIGINT, PRIMARY KEY (id))
ALTER TABLE DOOR ADD CONSTRAINT FK_DOOR_ROOM_id FOREIGN KEY (ROOM_id) REFERENCES ROOM (id)
ALTER TABLE ROOM ADD CONSTRAINT FK_ROOM_FLOOR_id FOREIGN KEY (FLOOR_id) REFERENCES FLOOR (id)
ALTER TABLE ACCOMMODATION ADD CONSTRAINT FK_ACCOMMODATION_ROOM_id FOREIGN KEY (ROOM_id) REFERENCES ROOM (id)
ALTER TABLE ACCOMMODATION ADD CONSTRAINT FK_ACCOMMODATION_PERSON_id FOREIGN KEY (PERSON_id) REFERENCES PERSON (id)
ALTER TABLE SHIFT ADD CONSTRAINT FK_SHIFT_FLOOR_id FOREIGN KEY (FLOOR_id) REFERENCES FLOOR (id)
ALTER TABLE SHIFT ADD CONSTRAINT FK_SHIFT_PERSON_id FOREIGN KEY (PERSON_id) REFERENCES PERSON (id)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT NUMERIC(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE VALUES('SEQ_GEN',0)
COMMIT
DELETE FROM SEQUENCE WHERE SEQ_NAME='SEQ_GEN'
INSERT INTO SEQUENCE VALUES('SEQ_GEN',50)
COMMIT
INSERT INTO FLOOR VALUES(1,'first','flr1',1)
COMMIT
DISCONNECT
