/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
ALTER TABLE DOOR DROP CONSTRAINT FK_DOOR_ROOM_id
ALTER TABLE ROOM DROP CONSTRAINT FK_ROOM_FLOOR_id
ALTER TABLE ACCOMMODATION DROP CONSTRAINT FK_ACCOMMODATION_ROOM_id
ALTER TABLE ACCOMMODATION DROP CONSTRAINT FK_ACCOMMODATION_PERSON_id
ALTER TABLE SHIFT DROP CONSTRAINT FK_SHIFT_FLOOR_id
ALTER TABLE SHIFT DROP CONSTRAINT FK_SHIFT_PERSON_id
DROP TABLE FLOOR
DROP TABLE DOOR
DROP TABLE ROOM
DROP TABLE ACCOMMODATION
DROP TABLE PERSON
DROP TABLE SHIFT
CREATE TABLE FLOOR (id BIGINT NOT NULL, DESCRIPTION VARCHAR(255), FLOORNUMBER VARCHAR(255), version INTEGER, PRIMARY KEY (id))
CREATE TABLE DOOR (id BIGINT NOT NULL, DESCRIPTION VARCHAR(255), DOORNUMBER VARCHAR(255), version INTEGER, ROOM_id BIGINT, PRIMARY KEY (id))
CREATE TABLE ROOM (id BIGINT NOT NULL, DESCRIPTION VARCHAR(255), ROOMNUMBER VARCHAR(255), version INTEGER, FLOOR_id BIGINT, PRIMARY KEY (id))
CREATE TABLE ACCOMMODATION (id BIGINT NOT NULL, ENDDATE TIMESTAMP, ENDTIME TIME, STARTDATE TIMESTAMP, STARTTIME TIME, version INTEGER, PERSON_id BIGINT, ROOM_id BIGINT, PRIMARY KEY (id))
CREATE TABLE PERSON (id BIGINT NOT NULL, FIRSTNAME VARCHAR(255), GENDER INTEGER, LASTNAME VARCHAR(255), MIDDLENAME VARCHAR(255), PALMUSID VARCHAR(255), PERSONTYPE INTEGER, PVID VARCHAR(255), version INTEGER, PRIMARY KEY (id))
CREATE TABLE SHIFT (id BIGINT NOT NULL, version INTEGER, FLOOR_id BIGINT, PERSON_id BIGINT, PRIMARY KEY (id))
ALTER TABLE DOOR ADD CONSTRAINT FK_DOOR_ROOM_id FOREIGN KEY (ROOM_id) REFERENCES ROOM (id)
ALTER TABLE ROOM ADD CONSTRAINT FK_ROOM_FLOOR_id FOREIGN KEY (FLOOR_id) REFERENCES FLOOR (id)
ALTER TABLE ACCOMMODATION ADD CONSTRAINT FK_ACCOMMODATION_ROOM_id FOREIGN KEY (ROOM_id) REFERENCES ROOM (id)
ALTER TABLE ACCOMMODATION ADD CONSTRAINT FK_ACCOMMODATION_PERSON_id FOREIGN KEY (PERSON_id) REFERENCES PERSON (id)
ALTER TABLE SHIFT ADD CONSTRAINT FK_SHIFT_FLOOR_id FOREIGN KEY (FLOOR_id) REFERENCES FLOOR (id)
ALTER TABLE SHIFT ADD CONSTRAINT FK_SHIFT_PERSON_id FOREIGN KEY (PERSON_id) REFERENCES PERSON (id)
DELETE FROM SEQUENCE WHERE SEQ_NAME='SEQ_GEN'
COMMIT
INSERT INTO SEQUENCE VALUES('SEQ_GEN',0)
COMMIT
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DELETE FROM SEQUENCE WHERE SEQ_NAME='SEQ_GEN'
INSERT INTO SEQUENCE VALUES('SEQ_GEN',50)
COMMIT
INSERT INTO FLOOR VALUES(1,'First Floor','flr001',1)
COMMIT
INSERT INTO FLOOR VALUES(2,'Second Floor','flr002',1)
COMMIT
INSERT INTO FLOOR VALUES(3,'Third Floor','flr003',1)
COMMIT
INSERT INTO FLOOR VALUES(4,'FourthFloor','flr004',1)
COMMIT
INSERT INTO ROOM VALUES(5,'First Room','rm001',1,1)
COMMIT
INSERT INTO DOOR VALUES(6,'First Door','dr001',1,5)
COMMIT
INSERT INTO PERSON VALUES(7,'Jaycee',0,'Evangelista JR','Balingbing','plms001',0,NULL,1)
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
INSERT INTO FLOOR VALUES(8,'Fifth Floor','flr005',1)
COMMIT
INSERT INTO ROOM VALUES(9,'Second Room','rm002',1,2)
COMMIT
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
