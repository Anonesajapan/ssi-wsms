/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
ALTER TABLE ROOM DROP CONSTRAINT FK_ROOM_FLOOR_id
ALTER TABLE ACCOMMODATION DROP CONSTRAINT FK_ACCOMMODATION_ROOM_id
ALTER TABLE ACCOMMODATION DROP CONSTRAINT FK_ACCOMMODATION_PERSON_id
ALTER TABLE SHIFT DROP CONSTRAINT FK_SHIFT_FLOOR_id
ALTER TABLE SHIFT DROP CONSTRAINT FK_SHIFT_PERSON_id
DROP TABLE FLOOR
DROP TABLE ROOM
DROP TABLE ACCOMMODATION
DROP TABLE PERSON
DROP TABLE SHIFT
CREATE TABLE FLOOR (id BIGINT NOT NULL, DESCRIPTION VARCHAR(255), FLOORNUMBER VARCHAR(255), version INTEGER, PRIMARY KEY (id))
CREATE TABLE ROOM (id BIGINT NOT NULL, DESCRIPTION VARCHAR(255), ROONUMBER VARCHAR(255), version INTEGER, FLOOR_id BIGINT, PRIMARY KEY (id))
CREATE TABLE ACCOMMODATION (id BIGINT NOT NULL, ENDDATE TIMESTAMP, STARTDATE TIMESTAMP, version INTEGER, PERSON_id BIGINT, ROOM_id BIGINT, PRIMARY KEY (id))
CREATE TABLE PERSON (id BIGINT NOT NULL, BIRTHDATE TIMESTAMP, FIRSTNAME VARCHAR(255), GENDER INTEGER, LASTNAME VARCHAR(255), MIDDLENAME VARCHAR(255), PALMUSID VARCHAR(255), PERSONTYPE INTEGER, version INTEGER, PRIMARY KEY (id))
CREATE TABLE SHIFT (id BIGINT NOT NULL, SHIFTDATE TIMESTAMP, version INTEGER, FLOOR_id BIGINT, PERSON_id BIGINT, PRIMARY KEY (id))
ALTER TABLE ROOM ADD CONSTRAINT FK_ROOM_FLOOR_id FOREIGN KEY (FLOOR_id) REFERENCES FLOOR (id)
ALTER TABLE ACCOMMODATION ADD CONSTRAINT FK_ACCOMMODATION_ROOM_id FOREIGN KEY (ROOM_id) REFERENCES ROOM (id)
ALTER TABLE ACCOMMODATION ADD CONSTRAINT FK_ACCOMMODATION_PERSON_id FOREIGN KEY (PERSON_id) REFERENCES PERSON (id)
ALTER TABLE SHIFT ADD CONSTRAINT FK_SHIFT_FLOOR_id FOREIGN KEY (FLOOR_id) REFERENCES FLOOR (id)
ALTER TABLE SHIFT ADD CONSTRAINT FK_SHIFT_PERSON_id FOREIGN KEY (PERSON_id) REFERENCES PERSON (id)
DELETE FROM SEQUENCE WHERE SEQ_NAME='SEQ_GEN'
COMMIT
INSERT INTO SEQUENCE VALUES('SEQ_GEN',0)
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DELETE FROM SEQUENCE WHERE SEQ_NAME='SEQ_GEN'
INSERT INTO SEQUENCE VALUES('SEQ_GEN',50)
COMMIT
INSERT INTO FLOOR VALUES(1,'first','FLR001',1)
COMMIT
INSERT INTO ROOM VALUES(2,'rm 001','RM001',1,1)
COMMIT
INSERT INTO ROOM VALUES(3,'rm002','RM002',1,1)
COMMIT
INSERT INTO FLOOR VALUES(4,'second','FLR002',1)
COMMIT
DELETE FROM ROOM WHERE ID=3
INSERT INTO ROOM VALUES(3,'rm002','RM002',2,4)
COMMIT
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
INSERT INTO FLOOR VALUES(5,'UNA','FLR111',1)
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
INSERT INTO PERSON VALUES(6,'2016-09-05 00:00:00.000000','123123',1,'12312','12312','PLMS',0,1)
COMMIT
INSERT INTO ACCOMMODATION VALUES(7,'2016-10-07 00:00:00.000000','2016-10-01 00:00:00.000000',1,6,3)
COMMIT
INSERT INTO SHIFT VALUES(8,'2016-09-05 00:00:00.000000',1,5,6)
COMMIT
INSERT INTO FLOOR VALUES(9,'nakhdjadf','naksdjahsb',1)
COMMIT
INSERT INTO FLOOR VALUES(10,'uhdkjhfjd','asjdkahs',1)
COMMIT
